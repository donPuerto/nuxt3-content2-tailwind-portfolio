import{_ as V}from"./DhI3LA4A.js";import{d as q,l as $,r as b,m as r,c as l,e as a,f as e,i as n,w as k,t as i,s as m,k as j,F as M,j as F,q as U,_ as I,J as O,H as Q}from"./DE2udA3T.js";import{_ as E,u as H}from"./YktSL5pw.js";import{_ as J,c as R}from"./CGYEozEZ.js";import{_ as G}from"./BNn8rGXh.js";import{u as K,q as T}from"./5Tpzcdd5.js";import"./DCpj94bg.js";import"./B3EfmWJE.js";const W=R(G),X={class:"container mx-auto px-4 sm:px-6 lg:px-8"},Y={class:"flex flex-col items-center my-12"},Z={class:"relative w-full max-w-md"},ee={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},te={key:0,class:"grid grid-cols-1 lg:grid-cols-4 gap-4"},se={class:"lg:col-span-3 space-y-4"},le={class:"block shadow-lg rounded-lg overflow-hidden transition-shadow hover:shadow-xl hover:border-primary hover:border-2"},oe={class:"flex flex-col sm:flex-row"},ae={class:"w-full sm:w-1/3 lg:w-2/5 h-auto sm:h-56 relative overflow-hidden group"},ie={class:"w-full h-full transition-transform duration-300 ease-in-out group-hover:scale-110"},ne=["src","alt"],re={key:1,class:"w-full h-full flex items-center justify-center relative z-10"},ce=["src","alt"],ue={class:"absolute inset-0 bg-black/30 flex items-center justify-center"},de={key:2,class:"w-full h-full flex items-center justify-center relative z-10 bg-primary/10"},me={class:"w-full sm:w-2/3 lg:w-3/5 p-4 flex flex-col"},_e={class:"text-sm sm:text-base md:text-lg font-bold line-clamp-2 text-justify"},he={class:"text-xs text-gray-500 mt-1 text-justify"},fe={key:0,class:"text-sm text-gray-600 mb-2 line-clamp-3 my-2 text-justify"},pe={class:"flex flex-wrap justify-between items-center mt-auto gap-2"},ve={class:"text-xs text-gray-500 text-justify"},xe={class:"grid grid-cols-1 lg:grid-cols-4 gap-4"},ge={class:"flex flex-col sm:flex-row lg:flex-col"},ye={class:"w-full sm:w-1/3 lg:w-full h-32 sm:h-40 lg:h-32 relative overflow-hidden group"},we={class:"w-full h-full transition-transform duration-300 ease-in-out group-hover:scale-110"},be=["src","alt"],ke={key:1,class:"w-full h-full relative z-10"},je=["src","alt"],Ce={class:"absolute inset-0 bg-black/30 flex items-center justify-center"},De={key:2,class:"w-full h-full flex items-center justify-center relative z-10 bg-primary/10"},Le={class:"w-full sm:w-2/3 lg:w-full p-3"},Se={class:"text-sm sm:text-base md:text-lg font-bold line-clamp-2 text-justify"},Ue={class:"text-xs text-gray-500 mt-1 text-justify"},ze={key:0,class:"text-sm text-gray-600 mb-1 line-clamp-2 my-2 text-justify"},Ne={class:"flex flex-wrap justify-between items-center mt-2 gap-2"},Ae={class:"text-xs text-gray-500 text-justify"},Be={class:"shadow-lg rounded-lg p-4"},Pe={key:1,class:"text-center py-8"},He=q({__name:"index",async setup(Ve){let _,C;const z=Q(),{getAuthor:h}=H(),{data:N}=([_,C]=$(()=>K("all-posts",()=>T("blog").where({is_publish:!0}).sort({published_at:-1}).find())),_=await _,C(),_),D=b(!1),L=r(()=>N.value||[]),f=b(""),x=r(()=>{if(!f.value)return L.value;const c=f.value.toLowerCase();return L.value.filter(s=>{var v,t;const y=s.title.toLowerCase().includes(c),u=((v=s.description)==null?void 0:v.toLowerCase().includes(c))||!1,p=((t=s.tags)==null?void 0:t.some(P=>P.toLowerCase().includes(c)))||!1,d=h(s.authors),w=d?d.name.toLowerCase().includes(c):!1;return y||u||p||w})}),o=r(()=>x.value[0]),S=r(()=>o.value?h(o.value.authors):null),A=r(()=>x.value.slice(1,5)),g=r(()=>({url:`${z.public.productionUrl}/blog`,identifier:"blog-index",title:"Blog Comments"})),B=b(!0);return(c,s)=>{const y=V,u=I,p=O,d=E,w=W,v=J;return l(),a("article",X,[e("div",Y,[e("div",Z,[n(y,{modelValue:f.value,"onUpdate:modelValue":s[0]||(s[0]=t=>f.value=t),type:"text",placeholder:"Search posts...",class:"w-full rounded-md border border-input bg-background pl-10 pr-4 py-2 text-sm text-foreground placeholder:text-muted-foreground focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary"},null,8,["modelValue"]),e("div",ee,[n(u,{name:"uil:search",class:"h-5 w-5 text-gray-400"})])])]),x.value.length>0?(l(),a("div",te,[e("div",se,[e("div",le,[e("div",oe,[e("div",ae,[s[2]||(s[2]=e("div",{class:"absolute inset-0 bg-gradient-to-br from-primary/10 to-secondary/10 backdrop-blur-sm"},null,-1)),e("div",ie,[o.value.media.type==="image"?(l(),a("img",{key:0,src:o.value.media.content.image.url,alt:o.value.media.content.image.alt,class:"w-full h-full object-cover relative z-10"},null,8,ne)):o.value.media.type==="video"?(l(),a("div",re,[e("img",{src:o.value.media.content.video.thumbnail.url,alt:o.value.media.content.video.thumbnail.alt,class:"w-full h-full object-cover"},null,8,ce),e("div",ue,[n(u,{name:"uil:play-circle",class:"text-6xl text-white"})])])):(l(),a("div",de,s[1]||(s[1]=[e("span",{class:"text-primary-foreground"},"No media available",-1)])))])]),e("div",me,[n(p,{to:o.value._path,class:"hover:text-primary transition-colors"},{default:k(()=>[e("h2",_e,i(o.value.title),1)]),_:1},8,["to"]),e("p",he," Published at "+i(new Date(o.value.published_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})),1),o.value.description?(l(),a("p",fe,i(o.value.description),1)):m("",!0),e("div",pe,[S.value?(l(),j(d,{key:0,author:S.value,size:"sm",class:"flex-shrink-0 mt-2 sm:mt-0","show-slug":D.value},null,8,["author","show-slug"])):m("",!0),e("span",ve," Updated at "+i(new Date(o.value.updated_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}))+" | "+i(o.value.reading_time),1)])])])]),e("div",xe,[(l(!0),a(M,null,F(A.value,t=>(l(),a("div",{key:t._path,class:"block shadow-lg rounded-lg overflow-hidden transition-shadow hover:shadow-xl hover:border-primary hover:border-2"},[e("div",ge,[e("div",ye,[s[4]||(s[4]=e("div",{class:"absolute inset-0 bg-gradient-to-br from-primary/10 to-secondary/10 backdrop-blur-sm"},null,-1)),e("div",we,[t.media.type==="image"?(l(),a("img",{key:0,src:t.media.content.image.url,alt:t.media.content.image.alt,class:"w-full h-full object-cover relative z-10"},null,8,be)):t.media.type==="video"?(l(),a("div",ke,[e("img",{src:t.media.content.video.thumbnail.url,alt:t.media.content.video.thumbnail.alt,class:"w-full h-full object-cover"},null,8,je),e("div",Ce,[n(u,{name:"uil:play-circle",class:"text-4xl text-white"})])])):(l(),a("div",De,s[3]||(s[3]=[e("span",{class:"text-primary-foreground text-sm"},"No media",-1)])))])]),e("div",Le,[n(p,{to:t._path,class:"hover:text-primary transition-colors"},{default:k(()=>[e("h3",Se,i(t.title),1)]),_:2},1032,["to"]),e("p",Ue," Published at "+i(new Date(t.published_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})),1),t.description?(l(),a("p",ze,i(t.description),1)):m("",!0),e("div",Ne,[U(h)(t.authors)?(l(),j(d,{key:0,author:U(h)(t.authors),size:"xs",class:"flex-shrink-0 mt-2 sm:mt-0","show-slug":D.value},null,8,["author","show-slug"])):m("",!0),e("span",Ae," Updated at "+i(new Date(t.updated_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}))+" | "+i(t.reading_time),1)])])])]))),128))])]),e("div",Be,[s[5]||(s[5]=e("h2",{class:"text-sm sm:text-base md:text-lg lg:text-xl font-bold mb-4"}," Comments ",-1)),n(v,null,{default:k(()=>[B.value?(l(),j(w,{key:0,identifier:g.value.identifier,url:g.value.url,title:g.value.title,class:"mt-16 mb-12"},null,8,["identifier","url","title"])):m("",!0)]),_:1})])])):(l(),a("div",Pe,s[6]||(s[6]=[e("p",{class:"text-xl text-gray-600"}," No posts found matching your search. ",-1)])))])}}});export{He as default};
