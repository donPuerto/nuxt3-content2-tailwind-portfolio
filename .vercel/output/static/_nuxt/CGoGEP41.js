import{d as S,R as $,l as A,r as C,m as p,c as o,e as a,f as t,i as _,h as B,t as n,q as y,F as P,j,w as U,s as v,k as q,D as z,_ as I,J as F}from"./Dl6bFj9e.js";import{_ as R}from"./BLlg7u24.js";import{_ as E,u as J}from"./D4mFOTEI.js";import{u as M,q as Q}from"./1vrD2-Lf.js";import"./B47jHsQR.js";import"./T6Ynqkso.js";const T={class:"container mx-auto px-4 sm:px-6 lg:px-8 py-8"},G={class:"text-xl font-bold mb-6 flex items-center"},H={class:"text-primary underline ml-2"},K={class:"mb-6 flex justify-center"},O={class:"relative w-full max-w-md"},W={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},X={key:0,class:"text-center my-2"},Y={key:1,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"},Z={class:"flex flex-col h-full"},ee={class:"h-48 relative overflow-hidden group"},te={class:"w-full h-full transition-transform duration-300 ease-in-out group-hover:scale-110"},se=["src","alt"],oe={key:1,class:"w-full h-full flex items-center justify-center relative z-10 bg-primary/10"},ae={class:"p-4 flex flex-col flex-grow"},re={class:"text-sm sm:text-base font-bold line-clamp-2 text-justify"},ne={class:"text-xs text-gray-500 mt-1 mb-2"},le={key:0,class:"text-xs sm:text-sm text-gray-600 line-clamp-3 mb-4"},ie={class:"flex flex-wrap justify-between items-center mt-auto gap-2"},ce={class:"text-xs text-gray-500 text-justify"},ue={key:2,class:"mt-8 flex justify-center"},de=["onClick"],b=12,ve=S({__name:"[tag]",async setup(me){let i,w;const{getAuthor:k}=J(),h=$().params.tag,{data:L}=([i,w]=A(()=>M(`posts-${h}`,()=>Q("blog").where({tags:{$contains:h}}).find())),i=await i,w(),i),x=C(""),g=C(1),c=p(()=>{var s;const r=x.value.toLowerCase();return((s=L.value)==null?void 0:s.filter(l=>{var u,d,m;return((u=l.title)==null?void 0:u.toLowerCase().includes(r))||((d=l.description)==null?void 0:d.toLowerCase().includes(r))||((m=l.tags)==null?void 0:m.some(e=>e.toLowerCase().includes(r)))}))??[]}),D=p(()=>{const r=(g.value-1)*b;return c.value.slice(r,r+b)}),N=p(()=>Math.ceil(c.value.length/b));function V(r){g.value=r}return(r,s)=>{const l=I,u=R,d=F,m=E;return o(),a("div",T,[t("h1",G,[_(l,{name:"uil:tag-alt",class:"h-6 w-6 text-primary mr-2"}),s[1]||(s[1]=B(" Posts tagged with ")),t("span",H,"#"+n(y(h)),1)]),t("div",K,[t("div",O,[_(u,{modelValue:x.value,"onUpdate:modelValue":s[0]||(s[0]=e=>x.value=e),type:"text",placeholder:"Search tags...",class:"w-full px-4 py-2 pl-10 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-primary"},null,8,["modelValue"]),t("div",W,[_(l,{name:"uil:search",class:"h-5 w-5 text-gray-400"})])])]),c.value.length===0?(o(),a("div",X,s[2]||(s[2]=[t("p",{class:"text-base sm:text-lg md:text-xl text-muted-foreground"}," No tags found matching your search. ",-1)]))):(o(),a("div",Y,[(o(!0),a(P,null,j(D.value,e=>{var f;return o(),a("div",{key:e._path,class:"block shadow-lg rounded-lg overflow-hidden transition-shadow hover:shadow-xl hover:border-primary hover:border-2 bg-card"},[t("div",Z,[t("div",ee,[s[4]||(s[4]=t("div",{class:"absolute inset-0 bg-gradient-to-br from-primary/10 to-secondary/10 backdrop-blur-sm"},null,-1)),t("div",te,[((f=e.media)==null?void 0:f.type)==="image"?(o(),a("img",{key:0,src:e.media.content.image.url,alt:e.media.content.image.alt,class:"w-full h-full object-cover relative z-10"},null,8,se)):(o(),a("div",oe,s[3]||(s[3]=[t("span",{class:"text-primary-foreground"},"No image available",-1)])))])]),t("div",ae,[_(d,{to:e._path,class:"hover:text-primary transition-colors"},{default:U(()=>[t("h2",re,n(e.title),1)]),_:2},1032,["to"]),t("p",ne," Published at "+n(new Date(e.published_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})),1),e.description?(o(),a("p",le,n(e.description),1)):v("",!0),t("div",ie,[y(k)(e.authors)?(o(),q(m,{key:0,author:y(k)(e.authors),size:"sm",class:"flex-shrink-0 mt-2 sm:mt-0","show-slug":!1},null,8,["author"])):v("",!0),t("span",ce," Updated at "+n(new Date(e.updated_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}))+" | "+n(e.reading_time),1)])])])])}),128))])),c.value.length>0?(o(),a("div",ue,[(o(!0),a(P,null,j(N.value,e=>(o(),a("button",{key:e,class:z(["mx-1 px-3 py-1 rounded text-xs sm:text-sm",g.value===e?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-accent hover:text-accent-foreground"]),onClick:f=>V(e)},n(e),11,de))),128))])):v("",!0)])}}});export{ve as default};
